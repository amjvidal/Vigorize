<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/main.css ">
    <title>Vigorize</title>

    <script>
        function showFlashMessages(messages) {
            messages.forEach(message => {
                alert(message);  // Exibe um alerta com a mensagem
            });
        }
    </script>
</head>
<body class="bg-[#234035] flex justify-center items-center min-h-screen">
    
   <div class="flex w-full h-screen">
        <!-- Div com a imagem -->
        <div class="flex flex-col w-1/2 ml-[-100px] mr-[100px] bg-[#F8DCB3] justify-center items-center">
            <img src="../static/VIGORIZE_escuro.svg" alt="logo" class="mb-8 ">
            <h1 class="text-8xl text-[#316A55]">VIGORIZE</h1>
        </div>

        <div class="w-1/2 bg-[#234035] ml-[-200px] flex flex-col justify-center items-center p-8 space-y-8">
            <h1 class="text-[#F8DCB3] text-5xl font-semibold ml-[200px]">Login</h1>
            <form action="{{ url_for('login.pagina_login')}}" method="POST" class="w-3/4 space-y-4 ml-[200px]">
                <input type="hidden" name="action" value="login">
                <!-- Inputs de login -->
                <div class="space-y-4 flex flex-col items-center">
                    {% for input in inputs %}
                        <input 
                            class="bg-[#F8DCB3] mt-[-20px] p-4 w-[450px] rounded-[28px]  placeholder:text-[#234035] font-bold text-lg"
                            type="{{ input.type }}" 
                            name="{{ input.name }}"
                            placeholder="{{ input.placeholder }}" 
                            required>
                    {% endfor %}
                </div>
        
                <!-- Links para cadastro e recuperação -->
                <div class="flex justify-center gap-[190px] text-lg font-semibold text-white underline underline-offset-2">
                    <a href="/cadastro">Cadastrar</a>
                    <a href="/recuperar">Recuperar Senha</a>
                </div>
        
                <!-- Botão de login -->
                <div class="flex justify-center">
                    <button class=" w-[250px] h-[60px] bg-[#ED8D00] text-2xl text-[#234035] font-bold rounded-[210px]" id="btnLogin">Fazer Login</button>
                </div>

                
            </form>
        </div>
    </div>

    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            <script>
                // Transforma mensagens de flash em um array para o JavaScript
                const messages = {{ messages | tojson }};
                showFlashMessages(messages.map(msg => msg[1]));  // msg[1] é a mensagem, msg[0] é a categoria
            </script>
        {% endif %}
    {% endwith %}

</body>
</html>
