<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/static/css/main.css ">
    <title>Vigorize</title>

    <script>
        function showFlashMessages(messages) {
            messages.forEach(message => {
                alert(message);  // Exibe um alerta com a mensagem
            });
        }
    </script>
    
</head>
<body class="bg-[#234035]">
    <div class="space-y-2">    
        <h1 class="text-[#F8DCB3] text-5xl ">Cadastro</h1>
        <form action="{{ url_for('cadastro.cadastro')}}" method="POST">
            <div class="space-y-2">
                {% for input in inputs %}
                    <input class="bg-[#F8DCB3] p-2 block rounded-lg border border-black placeholder:text-black font-semibold" type="{{ input.type }}" id="{{ input.id }}" placeholder="{{ input.placeholder }}" class="p-2 rounded-lg" name="{{input.name}}"  required>
                {% endfor %}
            </div>
            <div>
                <a href="/" class="underline text-white">Login</a>
                <a href="/recuperar" class="underline text-white">Recuperar Senha</a>
            </div>
            <div>
                <button class="p-2 bg-[#ED8D00] text-white rounded-lg">Cadastrar</button>
            </div>
        </form>
    </div>

    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            <script>
                // Transforma mensagens de flash em um array para o JavaScript
                const messages = {{ messages | tojson }};
                showFlashMessages(messages.map(msg => msg[1]));  // msg[1] é a mensagem, msg[0] é a categoria
            </script>
        {% endif %}
    {% endwith %}
    
</body>

</html>